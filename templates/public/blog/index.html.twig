{% extends 'base.html.twig' %}

{% block title %}Hello BlogController!{% endblock %}

{% block body %}
    <section class="max-w-7xl mx-auto lg:px-8 px-6 lg:py-16 py-12">
        <div class="max-w-2xl mx-auto flex flex-col justify-center text-center space-y-4">
            <h1 class="text-center font-semibold text-primary font-secondary">Blog</h1>
            <h2 class="text-4xl lg:text-5xl/16 font-medium text-balance">Le blog pour vivre et s’installer à Paris</h2>
        </div>
    </section>
    <section class="max-w-6xl mx-auto lg:px-8 px-6 mt-4 mb-12 lg:mb-16">
        {% set hero = posts|first %}
        {% set isFr = app.request.locale == 'fr' %}

        {% if hero %}
            <article class="hero border border-slate-100 rounded-2xl hover:border-primary/20 transition-all duration-100 p-4 bg-white">
                <img src="{{ hero.mainPhoto }}" alt="{{ hero.mainPhotoAlt }}" class="w-full h-[240px] lg:h-[600px] rounded-xl object-cover">
                <div class="p-5 space-y-4 max-w-2xl">
                    <div class="flex items-center space-x-0.5 font-semibold text-sm text-primary">
                        <p class="capitalize">{{ hero.redactor.fullName }}</p>
                        <span>•</span>
                        <time datetime="{{ hero.createdAt | date('d F Y') }}" class="mr-8">{{ hero.createdAt | date('d F Y') | format_date(locale=app.request.locale) }}</time>
                    </div>
                    <h2 class="font-semibold text-xl lg:text-3xl">{{ isFr ? hero.titleFr : hero.titleEn }}</h2>
                    <p class="text-neutral-800/70">{{ isFr ? hero.shortDescFr : hero.shortDescEn }}</p>
                    <div class="mt-2 text-sm">
                        {% for category in hero.category %}
                            <span class="inline-block px-2 py-1 mr-2 bg-gray-100 rounded-full">
                        {{  isFr ?  category.blogCategory.nameFr : category.blogCategory.nameEn }}
                    </span>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% endif %}

        {% for blog in posts %}
            <h2 class="mt-16">
                {{ app.request.locale == 'fr' ? blog.titleFr : blog.titleEn }}
            </h2>
            <hr>
        {% else %}
            <p>No blog posts found.</p>
        {% endfor %}
    </section>
{% endblock %}
